the js code is basically thrash, I will return to it later on